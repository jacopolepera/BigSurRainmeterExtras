[Rainmeter]
DragGroup=BigSur
Group=Widget | BigSur
Author=Xyrfo and fediaFedia
OnRefreshAction=[!SetTransparency "#opacity#"]
MouseActionCursor=0
MiddleMouseUpAction=!DeactivateConfig
Update=2000

Blur=#globalblurenable#
BlurRegion=2,(10-#Padding#),(10-#Padding#),161*#scaledpi#,161*#scaledpi#,#blurcornerradius#

RightMouseUpAction=[!SkinCustomMenu]
ContextTitle=#Settings#
ContextAction=["#@#Config.exe" #Type# "#CURRENTCONFIG#" "#CURRENTFILE#" "#SETTINGSPATH#" "#SKINSPATH#" "#PROGRAMPATH#" "#scaledpi#"]

ContextTitle2=#Alternative#
ContextAction2=[!ActivateConfig "#CURRENTCONFIG#"]
ContextTitle3=#Close#
ContextAction3=[!DeactivateConfig]
ContextTitle4=----
ContextAction4=[]
ContextTitle5=#AddItems#
ContextAction5=[!ActivateConfig "BigSur\Gallery" "Gallery.ini"]
ContextTitle6=----
ContextAction6=[]
ContextTitle7=#MoreActions#
ContextAction7=[!SkinMenu]

[Metadata]
Version=1.0
Information=BigSur for Rainmeter
License=Creative Commons Attribution-Noncommercial-Share Alike 3.0 License

[Variables]
Type=Regular
@include=#@#Global.inc
@include1=#@#Languages\#MainLanguage#.inc
@include2=#@#\Structure\#Type#\Type.inc
@include3=UserVariables.inc
Name=#PanelName#
Height=150
CounterValue=0
TargetValue=1
fresh=[!UpdateMeasureGroup cc][!UpdateMeterGroup ui][!Redraw]

[MeasureCounter]
Measure=Calc
Formula=#CounterValue#
DynamicVariables=1
Group=cc

[Style]
StringAlign=CENTER
StringStyle=Normal
FontColor=255,255,255
FontFace=#ThemeFont#
AntiAlias=1

[Style2]
StringAlign=CENTER
StringStyle=Normal
FontColor=122,122,122,50
FontFace=#ThemeFont#
AntiAlias=1

[CounterText]
Meter=String
MeasureName=MeasureCounter
MeterStyle=Style
Text="#CounterValue#"
x=(#Height#/2 - 20)*#scaledpi#
y=(#Height#/2 - 10)*#scaledpi#
FontSize=(#FontSize#)*#scaledpi#
DynamicVariables=1
Group=ui

[TargetText]
Meter=String
MeterStyle=Style2
Text="/ #TargetValue#"
x=(#Height#/2 + 35)*#scaledpi#
y=(#Height#/2 - 10)*#scaledpi#
FontSize=(#FontSize#)*#scaledpi#
DynamicVariables=1
Group=ui
LeftMouseUpAction=[!SetVariable TargetValue "(#TargetValue#+1)"][!UpdateMeterGroup ui][!Redraw]
RightMouseUpAction=[!SetVariable TargetValue "(#TargetValue#-1)"][!UpdateMeterGroup ui][!Redraw]

[IncrementButton]
Meter=Image
ImageName=IncrementArrow.png
X=(#Height#/2)*#scaledpi#
Y=(#Height#/2 - 40)*#scaledpi#
W=20
H=20
PreserveAspectRatio=1
AntiAlias=1
LeftMouseUpAction=[Play "CompletedSound.wav"][!SetVariable CounterValue "(#CounterValue#+1)"]#fresh#
DynamicVariables=1
MouseActionCursor=1
Group=ui

[DecrementButton]
Meter=Image
ImageName=DecrementArrow.png
X=(#Height#/2)*#scaledpi#
Y=(#Height#/2 + 40)*#scaledpi#
W=20
H=20
PreserveAspectRatio=1
AntiAlias=1
LeftMouseUpAction=[!SetVariable CounterValue "(#CounterValue#-1)"]#fresh#
DynamicVariables=1
MouseActionCursor=1
Group=ui

[ResetButton]
Meter=Image
ImageName=ResetButton.png
X=(#Height#-15)*#scaledpi#
Y=(#Height#-15)*#scaledpi#
W=20
H=20
PreserveAspectRatio=1
AntiAlias=1
LeftMouseUpAction=[Play "click_sound.wav"][!SetVariable CounterValue 0]#fresh#
DynamicVariables=1
MouseActionCursor=1
Group=ui

[Equalizer]
Measure=Calc
IfCondition=#CounterValue#<0
IfTrueAction=[!SetVariable CounterValue 0][!UpdateMeasureGroup cc][!UpdateMeterGroup ui][!Redraw]
UpdateDivider=-1
DynamicVariables=1
Group=cc

[EqualizerTada]
Measure=Calc
Formula=0
IfCondition=(#CounterValue# = #TargetValue#) & (#HasPlayedTada# = 0)
IfTrueAction=[Play "tada_sound.wav"][!SetVariable HasPlayedTada 1]
DynamicVariables=1
Group=cc

[ResetTadaFlag]
Measure=Calc
Formula=0
IfCondition=(#CounterValue# <> #TargetValue#)
IfTrueAction=[!SetVariable HasPlayedTada 0]
DynamicVariables=1
Group=cc